# π® λ¬μ‹μ• λ£°λ › 2μΈ λ„¤νΈμ›ν¬ κ²μ„  
### Java Socket + Swing GUI κΈ°λ° 2μΈ μ‹¤μ‹κ°„ λ„¤νΈμ›ν¬ κ²μ„ ν”„λ΅μ νΈ

---

## π“ 1. ν”„λ΅μ νΈ κ°μ”

- **λ©ν‘**  
  Java μ†μΌ“ ν†µμ‹ (TCP)κ³Ό Swing GUIλ¥Ό ν™μ©ν•΄  
  **2λ…μ ν”λ μ΄μ–΄κ°€ μ„λ΅ λ‹¤λ¥Έ PCμ—μ„ μ ‘μ†ν•΄μ„ κ²μ„λ°©μ— μ…μ¥ν•κ³ ,  
  μ±„ν…ν•λ©° μ΄ν›„ λ¬μ‹μ• λ£°λ › κ²μ„μ„ μ§„ν–‰ν•  μ μλ” κµ¬μ΅°**λ¥Ό κµ¬ν„ν•λ” ν”„λ΅μ νΈμ΄λ‹¤.

- **κµ¬μ΅°μ  ν•µμ‹¬**
  - μ„λ²„λ” **μ§„μ‹¤μ μ›μ²(Truth Server)**  
    β†’ κ²μ„μ λ¨λ“  μƒνƒ(ν„΄, νƒ„μ°½, HP, λ°μ‚¬ κ²°κ³Ό)λ¥Ό μ„λ²„κ°€ κ³„μ‚°ν•κ³  λΈλ΅λ“μΊμ¤νΈ.
  - ν΄λΌμ΄μ–ΈνΈλ” **ν‘ν„ λ‹΄λ‹Ή(Visual Client)**  
    β†’ μ„λ²„κ°€ μ „λ‹¬ν• λ‚΄μ©(λ©”μ‹μ§€)μ„ ν™”λ©΄μΌλ΅ ν‘ν„.

- **ν„μ¬ κµ¬ν„λ κΈ°λ¥**
  - μ„λ²„ GUIλ΅ **ν¬νΈ μ„¤μ • + μ„λ²„ μ‹μ‘/μ •μ§€**
  - ν΄λΌμ΄μ–ΈνΈμ—μ„ **IP/Port/Name μ…λ ¥ ν›„ μ ‘μ†**
  - **2λ… μ ‘μ†λλ©΄ μλ™ λ°© μƒμ„±**
  - λ€κΈ°λ°©(RoomFrame)μ—μ„ P1 / P2 ν‘μ‹
  - **κ²μ„λ°©(GameRoomFrame)μΌλ΅ μλ™ μ „ν™**
  - **μ–‘λ°©ν–¥ μ±„ν… κΈ°λ¥**
  - **λ°°κ²½ μ΄λ―Έμ§€ + ν”λ μ΄μ–΄ μ•„λ°”νƒ€ + μ΄λ¦„ ν‘μ‹**

- **ν›„μ† μμ • κΈ°λ¥**
  - λ¬μ‹μ• λ£°λ › λ΅μ§ (μ‹¤νƒ„/κ³µνƒ„/ν„΄/HP)
  - μΉ΄λ“ κΈ°λ¥
  - HUD ν¨λ„, μ‚¬μ΄λ“ λ“±

---

## π“ 2. λ””λ ‰ν„°λ¦¬ κµ¬μ΅°

src/
β”β”€ server/
β”‚ β”β”€ ServerGuiMain.java // μ„λ²„ μ‹μ‘ main
β”‚ β”β”€ ServerFrame.java // μ„λ²„ GUI (ν¬νΈ μ…λ ¥/λ΅κ·Έ)
β”‚ β”β”€ ServerCore.java // ν΄λΌμ΄μ–ΈνΈ accept + Room μƒμ„±
β”‚ β”β”€ Room.java // ν• κ²μ„λ°©(2λ…)μ λΈλ΅λ“μΊμ¤νΈ/μƒνƒ
β”‚ β”β”€ ClientHandler.java // ν΄λΌμ΄μ–ΈνΈλ³„ μ¤λ λ“ (μ…λ ¥ μ²λ¦¬)
β”‚ β””β”€ Protocol.java // ν†µμ‹  λ…λ Ήμ–΄ μ •μ

β””β”€ client/
β”β”€ ClientMain.java // ν΄λΌμ΄μ–ΈνΈ μ‹μ‘μ 
β”β”€ StartFrame.java // IP/Port/μ΄λ¦„ μ…λ ¥ μ°½
β”β”€ RoomFrame.java // λ€κΈ°λ°©(2λ… λ¨μΌ λ•κΉμ§€)
β”β”€ GameRoomFrame.java // κ²μ„λ°©(λ°°κ²½/μ•„λ°”νƒ€/μ±„ν…)
β”β”€ NetworkClient.java // μ„λ²„-ν΄λΌμ΄μ–ΈνΈ μ†΅μμ‹  λ‹΄λ‹Ή
β””β”€ ImageLoader.java // λ¦¬μ†μ¤ μ΄λ―Έμ§€ λ΅λ”

resources/
β”β”€ images/ (room_bg.png, player1.png, player2.png)
β””β”€ sound/ (bang.wav, click.wav β€“ ν–¥ν›„)

markdown
μ½”λ“ λ³µμ‚¬

---

## π” 3. μ‹¤ν–‰ λ°©λ²•

### 3-1) μ„λ²„ μ‹¤ν–‰

1. `server.ServerGuiMain` μ‹¤ν–‰  
2. GUIμ—μ„ **ν¬νΈ μ…λ ¥ β†’ β€λ°© λ§λ“¤κΈ°(μ„λ²„ μ‹μ‘)β€ ν΄λ¦­**  
3. λ΅κ·Έμ— `Listening on XXXX` ν‘μ‹ β†’ μ ‘μ† λ€κΈ° μ¤‘

### 3-2) ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰

1. `client.ClientMain` μ‹¤ν–‰  
2. Host / Port / Name μ…λ ¥  
3. β€Start / Connectβ€ ν΄λ¦­  
4. **RoomFrame(λ€κΈ°λ°©)** μΌλ΅ μ΄λ™  
5. 2λ… μ ‘μ†λλ©΄ μλ™μΌλ΅ **GameRoomFrame(κ²μ„λ°©)** μΌλ΅ μ „ν™  
6. Chat λ²„νΌ λ„λ¥΄λ©΄ μ±„ν… κ°€λ¥

---

## π”„ 4. μ „μ²΄ λ™μ‘ νλ¦„

### π“΅ μ„λ²„ μΈ΅ νλ¦„

1. `ServerGuiMain` β†’ `ServerFrame` μ‹¤ν–‰
2. ν¬νΈ μ…λ ¥ ν›„ μ„λ²„ μ‹μ‘
3. `ServerCore.start()`  
   β†’ `ServerSocket` μƒμ„± β†’ `acceptLoop()` μ‹μ‘
4. μ²« λ²μ§Έ ν”λ μ΄μ–΄ μ ‘μ† β†’ μ΄λ¦„ μμ‹  β†’ WAITING 1/2 μ‘λ‹µ
5. λ‘ λ²μ§Έ ν”λ μ΄μ–΄ μ ‘μ† β†’ WAITING 2/2 μ‘λ‹µ
6. P1/P2 ν•Έλ“¤λ¬ μƒμ„±  
   β†’ `Room` μƒμ„±  
   β†’ ν•Έλ“¤λ¬μ— Room μ£Όμ…
7. P1/P2 ν•Έλ“¤λ¬ μ¤λ λ“ μ‹μ‘
8. λ‘ ν”λ μ΄μ–΄μ—κ² λ°©μ†΅:
   - `ROOM_CREATED`
   - `STATUS READY 2/2`
   - `ENTER_ROOM`

---

### π–¥οΈ ν΄λΌμ΄μ–ΈνΈ μΈ΅ νλ¦„

1. `ClientMain` β†’ `StartFrame` ν‘μ‹
2. μ‚¬μ©μκ°€ μ ‘μ† μ •λ³΄ μ…λ ¥ ν›„ Connect
3. `RoomFrame` μƒμ„± β†’ `NetworkClient.connect()` μ‹¤ν–‰
4. μ„λ²„μ— μ—°κ²°  
   - μ„λ²„μ HELLO μμ‹   
   - μ΄λ¦„μ„ μ„λ²„λ΅ μ „μ†΅  
   - reader μ¤λ λ“λ΅ μ„λ²„ λ©”μ‹μ§€ λ€κΈ°
5. μ„λ²„ λ©”μ‹μ§€ μ²λ¦¬  
   - `ROOM_STATUS` β†’ μƒνƒ μ—…λ°μ΄νΈ  
   - `ROOM_CREATED` β†’ P1/P2 μ΄λ¦„ ν‘μ‹  
   - `ENTER_ROOM` β†’ `GameRoomFrame`μΌλ΅ μ „ν™
6. μ „ν™ μ‹:
   - `net.setOnLine(gf.getLineConsumer())`  
     β†’ μ„λ²„ λ©”μ‹μ§€λ¥Ό GameRoomFrameμ΄ μ²λ¦¬ν•λ„λ΅ λ³€κ²½
7. ChatDialogμ—μ„ λ©”μ‹μ§€ μ…λ ¥ β†’ μ„λ²„λ΅ `CHAT ...` μ „μ†΅  
8. μ„λ²„κ°€ `CHAT`μ„ λ‹¤μ‹ λ‘ λ…μ—κ² λ°©μ†΅ β†’ λ‘ κ²μ„λ°©μ—μ„ ν‘μ‹

---

## π§  5. μ„λ²„ μ½”λ“ μƒμ„Έ μ„¤λ…

### β–£ 5-1) ServerGuiMain

```java
public static void main(String[] args) {
    SwingUtilities.invokeLater(() -> new ServerFrame().setVisible(true));
}
μ„λ²„ ν”„λ΅κ·Έλ¨μ μ‹μ‘μ 

Swing GUIμ μƒμ„±μ€ λ°λ“μ‹ EDTμ—μ„ μ‹¤ν–‰ν•΄μ•Ό ν•λ―€λ΅ invokeLater μ‚¬μ©.

β–£ 5-2) ServerFrame β€“ μ„λ²„ GUI
μ—­ν• 

ν¬νΈ μ…λ ¥

μ„λ²„ μ‹μ‘/μ •μ§€

λ΅κ·Έ μ¶λ ¥

ν•µμ‹¬ λ΅μ§: μ„λ²„ μ‹μ‘ λ²„νΌ

java
μ½”λ“ λ³µμ‚¬
core.start(port);
appendLog("[UI] λ°© λ§λ“¤κΈ° μ™„λ£. μ ‘μ†μ„ κΈ°λ‹¤λ¦½λ‹λ‹¤...");
ν•µμ‹¬ λ΅μ§: μ„λ²„ μ •μ§€

java
μ½”λ“ λ³µμ‚¬
core.stop();
startBtn.setEnabled(true);
β–£ 5-3) ServerCore β€“ μ„λ²„ ν•µμ‹¬ λ΅μ§
start(port)

ServerSocket μƒμ„±

running = true

acceptLoop() μ¤λ λ“ μ‹μ‘

acceptLoop()

μ²« ν΄λΌμ΄μ–ΈνΈ μ ‘μ†(P1)
β†’ HELLO ν•Έλ“μ…°μ΄ν¬
β†’ μ΄λ¦„ μμ‹ 
β†’ ROOM_STATUS WAITING 1/2

λ‘ λ²μ§Έ ν΄λΌμ΄μ–ΈνΈ μ ‘μ†(P2)
β†’ κ°™μ€ λ°©μ‹

ClientHandler p1, p2 μƒμ„±

Room room = new Room(p1, p2, n1, n2);

P1/P2 ν•Έλ“¤λ¬ μ¤λ λ“ μ‹¤ν–‰

room.announceCreatedAndReady()

β–£ 5-4) Room β€“ ν• κ²μ„λ°©μ„ λ€ν‘ν•λ” ν΄λμ¤
λΈλ΅λ“μΊμ¤νΈ

java
μ½”λ“ λ³µμ‚¬
public void broadcast(String line) {
    p1.send(line);
    p2.send(line);
}
λ°© μƒμ„± μ•λ¦Ό

java
μ½”λ“ λ³µμ‚¬
broadcast(ROOM_CREATED ...)
broadcast(ROOM_STATUS READY 2/2)
broadcast(ENTER_ROOM ...)
μ±„ν… λ°©μ†΅

java
μ½”λ“ λ³µμ‚¬
broadcast("CHAT " + sender + ": " + message)
β–£ 5-5) ClientHandler β€“ ν΄λΌμ΄μ–ΈνΈ ν• λ… λ‹΄λ‹Ή μ¤λ λ“
ν•µμ‹¬ λ£¨ν”„:

java
μ½”λ“ λ³µμ‚¬
while ((line = in.readLine()) != null) {
    if (line.startsWith("CHAT ")) {
        room.broadcastChat(name, msg);
    }
}
ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ¬Έμμ—΄μ„ ν• μ¤„μ”© μ½λ”λ‹¤.

ν„μ¬λ” CHAT λ…λ Ήλ§ μ²λ¦¬.

π¨ 6. ν΄λΌμ΄μ–ΈνΈ μ½”λ“ μƒμ„Έ μ„¤λ…
β–£ 6-1) ClientMain
java
μ½”λ“ λ³µμ‚¬
SwingUtilities.invokeLater(() -> new StartFrame().setVisible(true));
ν΄λΌμ΄μ–ΈνΈμ μ‹μ‘μ .

β–£ 6-2) StartFrame β€“ μ ‘μ† μ •λ³΄ μ…λ ¥
Host, Port, Name μ…λ ¥

Connect ν΄λ¦­ β†’ RoomFrame μƒμ„±

β–£ 6-3) NetworkClient β€“ μ„λ²„ ν†µμ‹  λ‹΄λ‹Ή
ν•µμ‹¬ κΈ°λ¥:

μ„λ²„μ™€ μ†μΌ“ μ—°κ²°

μ„λ²„μ "HELLO" μμ‹ 

ν”λ μ΄μ–΄ μ΄λ¦„ μ „μ†΅

reader μ¤λ λ“λ΅ μ„λ²„ λ©”μ‹μ§€λ¥Ό μ§€μ† μμ‹ 

onLine μ½λ°±μ— μ „λ‹¬

ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ send("CHAT ...") κ°€λ¥

β–£ 6-4) RoomFrame β€“ λ€κΈ°λ°©
μ²λ¦¬ λ©”μ‹μ§€:

ROOM_STATUS

ROOM_CREATED

ENTER_ROOM

ENTER_ROOM μμ‹  μ‹:

java
μ½”λ“ λ³µμ‚¬
net.setOnLine(gf.getLineConsumer());  // μ¤‘μ”!
β†’ μ„λ²„ λ©”μ‹μ§€ μ²λ¦¬λ¥Ό GameRoomFrameμΌλ΅ λ„κΉ€.

β–£ 6-5) GameRoomFrame β€“ κ²μ„λ°©
κΈ°λ¥:

λ°°κ²½ + P1/P2 μ•„λ°”νƒ€ ν‘μ‹

μ΅°μ‘ν‚¤ μ•λ‚΄

Chat λ²„νΌ

ChatDialogλ΅ μ±„ν… κΈ°λ¥ μ κ³µ

μ„λ²„ λ©”μ‹μ§€ μ²λ¦¬:

java
μ½”λ“ λ³µμ‚¬
if (line.startsWith("CHAT ")) {
    sender, msg μ¶”μ¶
    role(P1/P2) νλ‹¨
    "[P1] ν™κΈΈλ™: μ•λ…•" ν•νƒλ΅ μ±„ν…μ°½μ— ν‘μ‹
}
β–£ 6-6) RoomCanvas β€“ λ°°κ²½ + ν”λ μ΄μ–΄ μ΄λ―Έμ§€
/images/room_bg.png

/images/player1.png

/images/player2.png

μ„μΉ:

P1: ν™”λ©΄ μƒλ‹¨ 20%

P2: ν™”λ©΄ ν•λ‹¨ 80%

β–£ 6-7) ChatDialog β€“ μ±„ν…μ°½
μ „μ†΅ λ΅μ§:

java
μ½”λ“ λ³µμ‚¬
appendLine("[ME] λ‚΄μ΄λ¦„: λ©”μ‹μ§€");
net.send("CHAT " + λ©”μ‹μ§€);
μλ™ μ¤ν¬λ΅¤
μ¤„ μ ν• 500μ¤„.

π’¬ 7. μ±„ν… 1ν μ „μ†΅ νλ¦„ (μμ‹)
P1μ΄ β€μ•λ…•?β€ μ…λ ¥

P1 ν΄λΌ:

ν™”λ©΄μ— [ME] P1: μ•λ…•? μ¦‰μ‹ μ¶λ ¥

μ„λ²„λ΅ CHAT μ•λ…•? μ „μ†΅

μ„λ²„:

P1 λ©”μ‹μ§€ μμ‹ 

CHAT P1: μ•λ…•? λ‘ λ…μ—κ² λΈλ΅λ“μΊμ¤νΈ

ν΄λΌ:

GameRoomFrameμ΄ λ©”μ‹μ§€ νμ‹±

P1: [P1][ME] P1: μ•λ…•?

P2: [P1] P1: μ•λ…•?

π”® 8. ν–¥ν›„ ν™•μ¥(λ¬μ‹μ• λ£°λ › κ²μ„ λ΅μ§)
ν„μ¬λ” μ±„ν… + λ°© μ…μ¥κΉμ§€ μ™„μ„±λ μƒνƒμ΄λ©°, λ‹¤μ κµ¬μ„±μ”μ†κ°€ ν™•μ¥λ  μμ •:

GunChamber

6μΉΈ νƒ„μ°½μ— BULLET/BLANK λλ¤ λ°°μΉ

TURN, AIM, FIRE, FIRE_RESOLVE ν”„λ΅ν† μ½

HP μ‹μ¤ν…

P1/P2 μ²΄λ ¥ 5

0μ΄λ©΄ ν¨λ°°

μ¬μ¥μ „ + μΉ΄λ“ λ“λ΅μ° μ‹μ¤ν…

HUD ν¨λ„, μ‚¬μ΄λ“ μ¶λ ¥

ν•µμ‹¬ μ›μΉ™:

μ„λ²„κ°€ λ¨λ“  νμ •μ„ ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” ν™”λ©΄ ν‘ν„λ§ ν•λ‹¤.

π 9. κ²°λ΅ 
μ΄ READMEλ” μ§€κΈκΉμ§€ κµ¬ν„λ
μ„λ²„Β·ν΄λΌμ΄μ–ΈνΈ μ „μ²΄ νλ¦„,
μ†μΌ“ ν†µμ‹  κµ¬μ΅°,
ν”„λ΅ν† μ½ μ²λ¦¬ λ°©μ‹,
UI κµ¬μ„± λ°©μ‹,
μ±„ν… λ°μ΄ν„° νλ¦„
μ„ λ¨λ‘ μ •λ¦¬ν• λ¬Έμ„μ΄λ‹¤.

λ°ν‘ λλ” λ³΄κ³ μ„ μ μ¶ μ‹ μ΄ λ¬Έμ„λ¥Ό κΈ°λ°μΌλ΅ μ„¤λ…ν•λ©΄
κµ¬μ΅°μ μΌλ΅ μ™„λ²½ν•κ² μ„¤λ…ν•  μ μλ‹¤.

yaml
μ½”λ“ λ³µμ‚¬

---

ν•„μ”ν•λ©΄ **PDF λ²„μ „**, **μ›λ“(.docx) λ²„μ „**, λλ”  
**β€λ¬μ‹μ• λ£°λ › λ΅μ§ ν¬ν•¨ν• μµμΆ… λ²„μ „ READMEβ€** λ„ λ§λ“¤μ–΄μ¤„κ².









ChatGPTλ” μ‹¤μλ¥Ό ν•  μ μμµλ‹λ‹¤. μ¤‘μ”ν• μ •λ³΄λ” μ¬μ°¨ ν™•μΈν•μ„Έμ”. μΏ ν‚¤ κΈ°λ³Έ μ„¤μ •μ„ μ°Έκ³ ν•μ„Έμ”.
