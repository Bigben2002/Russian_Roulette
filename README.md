# Russian-Roulette-Project
한성대학교 3학년 2학기 네트워크프로그래밍 프로젝트
팀원 <br>
이경석 - 2171073 <br>
김준현 - 2171062
 

 # 🎯 Russian Roulette -- 2인 네트워크 게임 (Phase-1)

## 🧱 프로젝트 개요

-   **프로젝트명:** 러시안 룰렛 2인 네트워크 게임\
-   **개발환경:** Java 17\~21 / Eclipse IDE\
-   **사용 기술:** Swing GUI, TCP Socket 통신 (ServerSocket / Socket),
    UTF-8 스트림\
-   **네트워크 구조:** 서버 1대 + 클라이언트 2대 (LAN 환경 접속)

> 같은 Wi-Fi 환경에서 서로의 IP와 포트를 입력해 접속 가능합니다.

------------------------------------------------------------------------

## 🧩 프로젝트 목표

### Phase-1 (현재 단계)

**"카드 없이 기본 전투 기능만 구현"**

-   2인 매칭 / 코인토스 / 턴 전환\
-   6칸 탄창 랜덤 생성 (실탄·공탄)\
-   조준(AIM) -- SELF \| ENEMY\
-   발사(FIRE) -- 규칙에 따른 HP 감소 및 턴 교대\
-   HP 표시, 잔탄 수, 턴 상태, 탄창 남은 칸 표시\
-   실탄/공탄 모두 소진 시 자동 재장전

### 이후 단계 예고

  Phase     내용
  --------- -------------------------------------------
  Phase-2   이미지/Icon GUI, 사운드 효과
  Phase-3   카드 시스템 (DOUBLE_DMG, PEEK_NEXT, HEAL)
  Phase-4   안정화 및 예외 처리
  Phase-5   멀티룸, 리플레이 등 확장

------------------------------------------------------------------------

## ⚙️ 게임 규칙 (Phase-1)

  조준 대상   탄 종류   결과               턴 변화
  ----------- --------- ------------------ ---------
  SELF        BLANK     재격발 (턴 유지)   유지
  SELF        BULLET    HP − 1             교대
  ENEMY       BLANK     아무 일 없음       교대
  ENEMY       BULLET    상대 HP − 1        교대

-   HP: 각 플레이어 5 → 0이 되면 패배\
-   탄창: 6칸, 랜덤 실탄/공탄 구성\
-   잔탄 0 → 자동 재장전

------------------------------------------------------------------------

## 🧩 시스템 구조

    src/
     ├─ server/
     │   ├─ ServerGuiMain.java        // 서버 시작, 클라이언트 2명 대기
     │   ├─ Room.java              // 게임 로직 (턴, HP, 탄창 등)
     │   ├─ ClientHandler.java     // 클라이언트별 스레드
     │   ├─ ServerFrame.java
     │   ├─ Protocol.java          // 통신 명령어 정의
     │   └─ ServerCore.java
     └─ client/
         ├─ ClientMain.java        // 클라이언트 진입점
         ├─ GameRoomFrame.java        // IP/Port/이름 입력 UI
         ├─ ImageLoader.java
         ├─ RoomFrame.java         // 메인 게임 창
         ├─ StartFrame.java
         └─ NetworkClient.java     // 서버와 송수신 관리
    resources/
     └─ images/

------------------------------------------------------------------------

## 🔌 실행 방법

### 🖥️ 서버 실행

1.  Eclipse에서 `server.ServerMain` 실행\

2.  **Program arguments:** `7777`\

3.  콘솔에 다음 메시지가 출력되면 준비 완료:

        [Server] Listening on 7777

### 💻 클라이언트 실행

1.  Eclipse에서 `client.ClientMain` 실행 (2번 실행하여 2명 접속)\
2.  접속 정보 입력
    -   **Host:** 서버 PC IP (같은 PC면 `127.0.0.1`)\
    -   **Port:** `7777`\
    -   **Name:** 자유 입력\
3.  연결 후 `GameFrame` 창이 열리면 대기

### 🎮 조작 키

  키   기능
  ---- ---------------------------
  ←    AIM SELF (자기 자신 조준)
  →    AIM ENEMY (상대 조준)
  F    FIRE (발사)

------------------------------------------------------------------------

## 🧠 기술 요약

  -------------------------------------------------------------------------
  구분                                내용
  ----------------------------------- -------------------------------------
  **통신 방식**                       TCP 소켓 (ServerSocket / Socket,
                                      UTF-8 스트림)

  **멀티스레드**                      각 클라이언트는 별도 스레드로 통신

  **GUI**                             Swing 기반, JPanel/JLabel 구성

  **데이터 교환**                     텍스트 프로토콜 (예: `AIM SELF`,
                                      `FIRE_RESOLVE BULLET TARGET=ENEMY`)

  **로직 구조**                       서버 주도(Room 클래스) -- 상태를
                                      서버가 판정 후 브로드캐스트

  **포커스 처리**                     턴 교대 시 `requestFocusInWindow()`로
                                      키 입력 유지
  -------------------------------------------------------------------------

------------------------------------------------------------------------

## ✅ Phase-1 완료 기준

-   [x] 서버/클라이언트 간 정상 연결\
-   [x] 턴, HP, 탄창, 남은 칸 동기화\
-   [x] SELF+BLANK 시 턴 유지\
-   [x] 탄창 소진 시 자동 재장전\
-   [x] HP = 0 시 승패 판정

------------------------------------------------------------------------

## 📌 향후 계획

-   🎨 **Phase-2:** 이미지/Icon 적용, 사운드 효과 추가\
-   💥 **Phase-3:** 카드 시스템 (DOUBLE_DMG / PEEK_NEXT / HEAL)\
-   🧩 **Phase-4:** 예외 처리, 멀티룸 지원

------------------------------------------------------------------------

## 👨‍💻 개발자 코멘트

> 이 프로젝트는 **Eclipse + JDK 21** 환경에서\
> **Socket 네트워크 통신과 Swing GUI**를 동시에 학습하고,\
> 2인 턴제 게임 구조를 완성하는 것을 목표로 합니다.

------------------------------------------------------------------------

## 📅 개발 진행 상태

-   **Phase-1:** ✅ 완료 (기본 통신 및 전투 시스템 구현)\
-   **Phase-2:** 🔜 진행 예정 (GUI + 사운드 추가)


깃허브 테스트 123123123
